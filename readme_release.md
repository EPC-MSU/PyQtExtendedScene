# Выпуск релиза на PyPI

1. Поставьте следующие значения в переменные окружения:

   ```
   TWINE_USERNAME=__token__
   TWINE_PASSWORD=<токен от pypi вместе с префиксом pypi->
   ```

   Либо пропишите в файле **.pypirc**, который должен находиться в Вашей домашней директории, следующие строки:

   ```
   [pypi]
   username = __token__
   password = <токен от pypi вместе с префиксом pypi->
   ```

2. Перейдите в папку **scripts** и запустите **release.bat**/**release.sh** в зависимости от ОС.

#### Распространенные проблемы с использованием скриптов release.bat/release.sh

- Если возникла ошибка **"AttributeError: version_info object has no attribute '\__version__'"**, версия Python на вашем компьютере устарела и не поддерживает twine и build, необходимые для работы с PyPI. Поставьте более актуальную версию и добавьте её в путь.
- Если возникла ошибка 403, вы неправильно ввели токен. Проверьте, что вы не потеряли префикс, без него авторизация не будет выполнена.
- Если возникла ошибка 400, вы уже загрузили в репозиторий версию с этим номером. К сожалению, PyPI больше не поддерживает замену файлов. Вы можете использовать нумерацию v.v.v-1, v.v.v-2 и т. д. (не рекомендуется) либо загрузить файл, как патч со следующим номером версии.